<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        div{
            width: 100px;
            height: 100px;
            border: 1px solid rgb(248, 12, 12);
            position: absolute;
            background-color: black;
        }
    </style>
</head>
<body>
    <div id="dv1"></div>

    <script>
        var px;
        var py;
        var dx;
        var dy;
        var vel;
        var obj;
        var tmp;

        function inicia(){
            
            px=0;
            py=0;
            dx=0;
            dy=0;
            vel=5;
            obj=document.getElementById("dv1");
            document.addEventListener("keydown",teclaDw);
            document.addEventListener("keyup",teclaUp);
            tmp= setInterval(enterFrame,20);

        }
        function teclaDw(){
            var tecla = event.keyCode;
            var inter;
            if(tecla == 37){
                dx=-1
                obj.style.backgroundColor="#f00";
                obj.style.boxShadow="10px 10px 1px #000"
                clearInterval(inter);
            }else if (tecla==38){
                dy=-1
                obj.style.backgroundColor="#0f0";

            }else if (tecla==39){
                dx=1
                obj.style.backgroundColor="#00f";
                obj.style.boxShadow="-10px -10px 1px #000"
                inter=setInterval(so,20);


            }else if (tecla==40){
                dy=1
                obj.style.backgroundColor="#000";

            }
        }
        function so(){
            dx=1
        }
        function para(){
            dx=-1
        }
    
        function teclaUp(){
            var tecla = event.keyCode;
            if(tecla == 37){
                dx=0
            }else if (tecla==38){
                dy=0
            }else if (tecla==39){
                dx=0
            }else if (tecla==40){
                dy=0
            }
        }

        function enterFrame(){
            px+=dx*vel;
            py+=dy*vel;
            obj.style.left=px+"px";
            obj.style.top=py+"px";
        }
        window.addEventListener("load",inicia);
    </script>
</body>
</html>